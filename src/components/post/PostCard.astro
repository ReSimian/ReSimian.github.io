---
interface Props {
    imgSrc?: string;
    link: string;
    title: string;
    description: string;
    isFirst: boolean;
}

const { imgSrc, title, link, description, isFirst } = Astro.props;

const outlineClasses = isFirst ? "card-outline dark:p-[1px] dark:hover:p-[3px] p-0 rounded-xl" : "";
---

<div
    class={`${"transition-transform duration-300 ease-out hover:scale-[1.03]"} ${outlineClasses}`}
>
    <a
        class="flex flex-col dark:hover:text-blue-400 hover:text-blue-700 dark:bg-slate-900 bg-zinc-200 gradient-card shadow-md
        rounded-xl"
        href={link}
        title={description}
    >
        <img
            class="p-[0.2rem] rounded-xl overflow-hidden h-full w-full"
            src={imgSrc}
            alt=""
        />

        <h1
            class="lg:h-[10rem] py-10 px-2 text-center font-bold text-2xl overflow-auto"
        >
            {title}
        </h1>
    </a>
</div>

<style>
    :hover.gradient-card {
        background-image: linear-gradient(
            45deg,
            rgba(0, 132, 255, 0.1),
            rgba(0, 0, 255, 0.1),
            rgba(132, 0, 255, 0.2),
            rgba(0, 132, 255, 0.1),
            rgba(0, 0, 255, 0.1)
        );
        background-size: 400%;
        animation: bg-anim 3s infinite alternate;
    }

    @keyframes bg-anim {
        0% {
            background-position: left;
        }
        100% {
            background-position: right;
        }
    }

    .card-outline {
        height: 100%;
        width: 100%;
        overflow: hidden;
        position: relative;
    }

    .card-outline::before {
        background: conic-gradient(
            rgba(0, 132, 255, 1) 45deg,
            rgba(0, 0, 255, 1) 90deg,
            rgba(132, 0, 255, 1) 135deg,
            rgba(0, 132, 255, 1) 180deg,
            rgba(0, 0, 255, 1) 225deg,
            rgba(132, 0, 255, 1) 270deg,
            rgba(0, 132, 255, 1) 315deg,
            rgba(0, 0, 255, 1) 360deg
        );
        position: absolute;
        left: -75%;
        top: -75%;
        height: 250%;
        width: 250%;
        z-index: -1;
        content: var(--tw-content);
        animation: outline-anim 7s linear infinite;
        filter: blur(2rem);
    }

    :hover.card-outline::before{
        content: none;
    }

    @keyframes outline-anim {
        100% {
            transform: rotate(-360deg);
        }
    }
</style>
